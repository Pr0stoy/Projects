<!DOCTYPE html>
<html lang = 'en'>
<head>
    <meta charset="UTF-8">
    <title>Головна сторінка</title>
    <!-- управление фреймами -->
<script>
function openMenu() {
    parent.document.getElementById("main-menu").cols = "10%,*";
	
}
function closeMenu() {
    parent.document.getElementById("main-menu").cols = "1%,*";

}

let timer; // 1. Создаем "коробку" для таймера, чтобы мы могли его остановить в любой момент.

function adjust(target) { // 2. Главная функция, которая знает, к какой ширине мы стремимся (target).
    
    clearInterval(timer); // 3. ОСТАНОВКА: Если меню уже начало двигаться, мы сбрасываем старый таймер, 
                          //    чтобы команды "откройся" и "закройся" не дрались друг с другом.

    const fset = document.getElementById("main-menu"); // 4. Находим твой frameset по ID.
    
    // 5. Запускаем "Интервал" — это моторчик, который будет выполнять код каждые 10 миллисекунд.
    timer = setInterval(() => {
        
        // 6. Считываем текущую ширину. parseFloat берет "1.5%" и превращает в число 1.5.
        let cur = parseFloat(fset.cols);
        
        // 7. ПРОВЕРКА: Если текущая ширина уже почти равна цели (разница меньше 0.2), 
        //    то мы просто ставим точное значение и выключаем моторчик.
        if (Math.abs(cur - target) < 0.2) {
            fset.cols = target + "%,*";
            clearInterval(timer); // Выключаем таймер.
        } else {
            // 8. ДВИЖЕНИЕ: Если мы не у цели, то прибавляем или отнимаем по 0.2%.
            //    Если цель (target) больше текущей (cur), то +0.2, иначе -0.2.
            let step = (target > cur ? 0.2 : -0.2);
            let nextPos = (cur + step);
            // 9. ЗАПИСЬ: Обновляем атрибут cols новым значением.
            fset.cols = nextPos.toFixed(2) + "%,*";
        }
    }, 8); // Это скорость "моторчика" в миллисекундах. 10мс — это очень плавно.
}

// 10. Твои старые функции, которые теперь просто дают команду "моторчику".
function openMenu() { adjust(10); } // Говорим: "Плавно двигайся к 10%"
function closeMenu() { adjust(1); }  // Говорим: "Плавно двигайся к 1%"



</script>

</head>

	<frameset cols = '1%,*' id = 'main-menu'>
		<frame src = 'menu.html' name = 'menuFrame' id = 'menuFrame' onmouseenter="openMenu()" onmouseleave="closeMenu()">
		<frame src = 'test.html' name = 'contentFrame'>
	</frameset>
</html>